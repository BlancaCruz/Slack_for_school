module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},54551,a=>{a.v({card:"TaskList-module__oTUpwW__card",cardHeader:"TaskList-module__oTUpwW__cardHeader",container:"TaskList-module__oTUpwW__container",context:"TaskList-module__oTUpwW__context",description:"TaskList-module__oTUpwW__description",dueDate:"TaskList-module__oTUpwW__dueDate",empty:"TaskList-module__oTUpwW__empty",high:"TaskList-module__oTUpwW__high",low:"TaskList-module__oTUpwW__low",meta:"TaskList-module__oTUpwW__meta",overdue:"TaskList-module__oTUpwW__overdue",section:"TaskList-module__oTUpwW__section",sectionTitle:"TaskList-module__oTUpwW__sectionTitle",source:"TaskList-module__oTUpwW__source",status:"TaskList-module__oTUpwW__status",title:"TaskList-module__oTUpwW__title",urgent:"TaskList-module__oTUpwW__urgent"})},61119,a=>{a.v({active:"SanctuaryToggle-module__zTu95W__active",button:"SanctuaryToggle-module__zTu95W__button",container:"SanctuaryToggle-module__zTu95W__container",description:"SanctuaryToggle-module__zTu95W__description",hint:"SanctuaryToggle-module__zTu95W__hint",title:"SanctuaryToggle-module__zTu95W__title"})},84575,a=>{a.v({button:"FlarePanel-module__BhO7pW__button",container:"FlarePanel-module__BhO7pW__container",description:"FlarePanel-module__BhO7pW__description",flareItem:"FlarePanel-module__BhO7pW__flareItem",flareList:"FlarePanel-module__BhO7pW__flareList",flareMessage:"FlarePanel-module__BhO7pW__flareMessage",flareTime:"FlarePanel-module__BhO7pW__flareTime",form:"FlarePanel-module__BhO7pW__form",input:"FlarePanel-module__BhO7pW__input",recent:"FlarePanel-module__BhO7pW__recent",recentTitle:"FlarePanel-module__BhO7pW__recentTitle",title:"FlarePanel-module__BhO7pW__title"})},19522,a=>{a.v({contentLayer:"Dashboard-module__0qHQXq__contentLayer",error:"Dashboard-module__0qHQXq__error",header:"Dashboard-module__0qHQXq__header",hudLayer:"Dashboard-module__0qHQXq__hudLayer",loading:"Dashboard-module__0qHQXq__loading",main:"Dashboard-module__0qHQXq__main",viewport:"Dashboard-module__0qHQXq__viewport"})},30100,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(54551);function e({tasks:a}){if(!a||0===a.length)return(0,b.jsx)("div",{className:d.default.empty,children:(0,b.jsx)("p",{children:"No tasks. You're all caught up! âœ¨"})});let c={URGENT:a.filter(a=>"URGENT"===a.priority),HIGH:a.filter(a=>"HIGH"===a.priority),LOW:a.filter(a=>"LOW"===a.priority)};return(0,b.jsxs)("div",{className:d.default.container,children:[c.URGENT.length>0&&(0,b.jsxs)("section",{className:d.default.section,children:[(0,b.jsx)("h2",{className:`${d.default.sectionTitle} ${d.default.urgent}`,children:"ðŸ”´ URGENT"}),c.URGENT.map(a=>(0,b.jsx)(f,{task:a},a.id))]}),c.HIGH.length>0&&(0,b.jsxs)("section",{className:d.default.section,children:[(0,b.jsx)("h2",{className:`${d.default.sectionTitle} ${d.default.high}`,children:"ðŸ”µ HIGH"}),c.HIGH.map(a=>(0,b.jsx)(f,{task:a},a.id))]}),c.LOW.length>0&&(0,b.jsxs)("section",{className:d.default.section,children:[(0,b.jsx)("h2",{className:`${d.default.sectionTitle} ${d.default.low}`,children:"âšª LOW"}),c.LOW.map(a=>(0,b.jsx)(f,{task:a},a.id))]})]})}function f({task:a}){let c=new Date(a.dueDate),e=c<new Date;return(0,b.jsxs)("div",{className:d.default.card,children:[(0,b.jsxs)("div",{className:d.default.cardHeader,children:[(0,b.jsx)("h3",{className:d.default.title,children:a.title}),(0,b.jsx)("span",{className:d.default.source,children:a.source})]}),(0,b.jsx)("p",{className:d.default.description,children:a.description}),(0,b.jsxs)("div",{className:d.default.meta,children:[(0,b.jsx)("span",{className:d.default.context,children:a.context}),(0,b.jsx)("span",{className:`${d.default.dueDate} ${e?d.default.overdue:""}`,children:c.toLocaleDateString()})]}),(0,b.jsx)("div",{className:d.default.status,children:a.status})]})}var g=a.i(61119);function h({active:a,onChange:d}){let[e,f]=(0,c.useState)(!1),h=(0,c.useRef)(null),i=()=>{f(!0)},j=()=>{f(!1),clearTimeout(h.current)},k=()=>{e&&d(!a)};return(0,b.jsxs)("div",{className:g.default.container,children:[(0,b.jsx)("h3",{className:g.default.title,children:"ðŸ›ï¸ Sanctuary Mode"}),(0,b.jsx)("p",{className:g.default.description,children:a?"Deep work activated. Distractions hidden.":"Enable to blur distractions and focus."}),(0,b.jsx)("button",{className:`${g.default.button} ${a?g.default.active:""}`,onMouseDown:()=>{i(),h.current=setTimeout(()=>{e&&k()},800)},onMouseUp:j,onMouseLeave:j,onTouchStart:()=>{i(),h.current=setTimeout(()=>{e&&k()},800)},onTouchEnd:j,children:a?"âœ“ Active":"Hold to Activate"}),(0,b.jsx)("div",{className:g.default.hint,children:"Hold for 0.8s to toggle"})]})}var i=a.i(84575);function j({onFlare:a,recentFlares:d=[]}){let[e,f]=(0,c.useState)(""),[g,h]=(0,c.useState)(""),j=async b=>{b.preventDefault(),e.trim()&&(await a({userId:"user-"+Date.now(),taskId:g||void 0,message:e,targetAudience:"mentors"}),f(""),h(""))};return(0,b.jsxs)("div",{className:i.default.container,children:[(0,b.jsx)("h3",{className:i.default.title,children:"ðŸš¨ Drop a Flare"}),(0,b.jsx)("p",{className:i.default.description,children:"Signal for help without DM distraction"}),(0,b.jsxs)("form",{onSubmit:j,className:i.default.form,children:[(0,b.jsx)("textarea",{value:e,onChange:a=>f(a.target.value),placeholder:"What do you need help with?",className:i.default.input,rows:"3"}),(0,b.jsx)("button",{type:"submit",className:i.default.button,disabled:!e.trim(),children:"Send Flare ðŸ“¡"})]}),d.length>0&&(0,b.jsxs)("div",{className:i.default.recent,children:[(0,b.jsx)("h4",{className:i.default.recentTitle,children:"Recent Flares"}),(0,b.jsx)("div",{className:i.default.flareList,children:d.map(a=>(0,b.jsxs)("div",{className:i.default.flareItem,children:[(0,b.jsx)("p",{className:i.default.flareMessage,children:a.message}),(0,b.jsx)("span",{className:i.default.flareTime,children:new Date(a.timestamp).toLocaleTimeString()})]},a.id))})]})]})}var k=a.i(19522);function l(){let[a,d]=(0,c.useState)([]),[f,g]=(0,c.useState)([]),[i,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{n(!0);let a=await fetch("/api/tasks");if(!a.ok)throw Error("Failed to fetch tasks");let b=await a.json();d(b.tasks||[])}catch(a){p(a.message)}finally{n(!1)}})()},[]),(0,c.useEffect)(()=>{let a=document.querySelector(".main-viewport");a&&(i?a.classList.add("sanctuary-active"):a.classList.remove("sanctuary-active"))},[i]);let q=async a=>{try{let b=await fetch("/api/flare",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok)throw Error("Failed to send flare");let c=await b.json();g([c,...f])}catch(a){console.error(a)}};return(0,b.jsxs)("div",{className:`${k.default.viewport} main-viewport`,children:[(0,b.jsxs)("div",{className:`${k.default.contentLayer} content-layer`,children:[(0,b.jsxs)("header",{className:k.default.header,children:[(0,b.jsx)("h1",{children:"ðŸŽ¯ Slack for School HUD"}),(0,b.jsx)("p",{children:"Your focus-first task manager"})]}),(0,b.jsxs)("main",{className:k.default.main,children:[o&&(0,b.jsxs)("div",{className:k.default.error,children:["Error: ",o]}),m?(0,b.jsx)("p",{className:k.default.loading,children:"Loading tasks..."}):(0,b.jsx)(e,{tasks:a})]})]}),(0,b.jsxs)("aside",{className:`${k.default.hudLayer} hud-layer`,children:[(0,b.jsx)(h,{active:i,onChange:l}),(0,b.jsx)(j,{onFlare:q,recentFlares:f.slice(0,3)})]})]})}function m(){let[a,d]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{fetch("/api/health").then(()=>d(!1)).catch(()=>d(!1))},[]),a)?(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:(0,b.jsx)("p",{children:"Loading Sanctuary..."})}):(0,b.jsx)(l,{})}a.s(["default",()=>m],30100)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__daa887f3._.js.map