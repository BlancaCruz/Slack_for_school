{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/blancacruz/Desktop/Slack_for_school/app/api/tasks/route.js"],"sourcesContent":["/**\n * Task Hierarchy Response Structure\n * \n * Follows the Design Principle: Information Architecture Under Stress\n * - verification: Source of Truth constraints (actionable immediately)\n * - escalation: Help requests & collaboration triggers\n * - context: Timeline & ambient pressure info\n */\n\nconst mockVerificationTasks = [\n  {\n    id: 'sprint-ai-logic',\n    title: 'Sprint: AI Logic Constraints',\n    priority: 'URGENT',\n    source: 'system',\n    dueDate: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000).toISOString(),\n    description: 'Resolve recursion depth conflict in prompt_iter_v2',\n    context: 'Source of Truth - This is blocking all downstream work',\n    status: 'in-progress',\n    assignee: 'Alex_Stitch',\n    actionability: 'verification',\n    visualHierarchy: 1,\n    stressWeight: 'critical',\n    visualTint: 'red'\n  }\n];\n\nconst mockEscalationTasks = [\n  {\n    id: 'prompt-lib-v2',\n    title: 'Prompt Library V2',\n    priority: 'HIGH',\n    source: 'lms',\n    dueDate: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000).toISOString(),\n    description: 'System Constraints Document',\n    context: 'Instructor Status: Offline â€¢ Drop a Flare if stuck',\n    status: 'pending',\n    assignee: 'Alex_Stitch',\n    actionability: 'escalation',\n    visualHierarchy: 2,\n    stressWeight: 'high',\n    visualTint: 'blue',\n    escalationPath: 'flare'\n  }\n];\n\nconst mockContextTasks = [\n  {\n    id: 'fellowship-random',\n    title: 'Fellowship Random',\n    priority: 'LOW',\n    source: 'slack',\n    dueDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),\n    description: 'Social Chatter',\n    context: '12 new messages',\n    status: 'pending',\n    assignee: 'Alex_Stitch',\n    actionability: 'context',\n    visualHierarchy: 3,\n    stressWeight: 'background',\n    visualTint: 'grey'\n  }\n];\n\nexport async function GET(req) {\n  try {\n    return Response.json(\n      {\n        status: 'ok',\n        timestamp: new Date().toISOString(),\n        hierarchy: {\n          verification: mockVerificationTasks,\n          escalation: mockEscalationTasks,\n          context: mockContextTasks\n        },\n        errors: {\n          verification: null,\n          escalation: null,\n          context: null\n        }\n      },\n      { status: 200 }\n    );\n  } catch (err) {\n    return Response.json(\n      {\n        status: 'error',\n        timestamp: new Date().toISOString(),\n        hierarchy: {\n          verification: mockVerificationTasks, // Always return verification, even on error\n          escalation: mockEscalationTasks,     // Try to return escalation\n          context: [] // Context is optional, can be empty on error\n        },\n        errors: {\n          verification: null,\n          escalation: null,\n          context: err.message // Log context failure only\n        }\n      },\n      { status: 200 } // Still return 200 to allow graceful degradation\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;;;;;;CAOC,GAED,MAAM,wBAAwB;IAC5B;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,QAAQ;QACR,SAAS,IAAI,KAAK,KAAK,GAAG,KAAK,IAAI,KAAK,KAAK,KAAK,MAAM,WAAW;QACnE,aAAa;QACb,SAAS;QACT,QAAQ;QACR,UAAU;QACV,eAAe;QACf,iBAAiB;QACjB,cAAc;QACd,YAAY;IACd;CACD;AAED,MAAM,sBAAsB;IAC1B;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,QAAQ;QACR,SAAS,IAAI,KAAK,KAAK,GAAG,KAAK,IAAI,KAAK,KAAK,KAAK,MAAM,WAAW;QACnE,aAAa;QACb,SAAS;QACT,QAAQ;QACR,UAAU;QACV,eAAe;QACf,iBAAiB;QACjB,cAAc;QACd,YAAY;QACZ,gBAAgB;IAClB;CACD;AAED,MAAM,mBAAmB;IACvB;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,QAAQ;QACR,SAAS,IAAI,KAAK,KAAK,GAAG,KAAK,IAAI,KAAK,KAAK,KAAK,MAAM,WAAW;QACnE,aAAa;QACb,SAAS;QACT,QAAQ;QACR,UAAU;QACV,eAAe;QACf,iBAAiB;QACjB,cAAc;QACd,YAAY;IACd;CACD;AAEM,eAAe,IAAI,GAAG;IAC3B,IAAI;QACF,OAAO,SAAS,IAAI,CAClB;YACE,QAAQ;YACR,WAAW,IAAI,OAAO,WAAW;YACjC,WAAW;gBACT,cAAc;gBACd,YAAY;gBACZ,SAAS;YACX;YACA,QAAQ;gBACN,cAAc;gBACd,YAAY;gBACZ,SAAS;YACX;QACF,GACA;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,KAAK;QACZ,OAAO,SAAS,IAAI,CAClB;YACE,QAAQ;YACR,WAAW,IAAI,OAAO,WAAW;YACjC,WAAW;gBACT,cAAc;gBACd,YAAY;gBACZ,SAAS,EAAE,CAAC,6CAA6C;YAC3D;YACA,QAAQ;gBACN,cAAc;gBACd,YAAY;gBACZ,SAAS,IAAI,OAAO,CAAC,2BAA2B;YAClD;QACF,GACA;YAAE,QAAQ;QAAI,EAAE,iDAAiD;;IAErE;AACF"}}]
}