(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55191,e=>{e.v({active:"SanctuaryToggleRadix-module__vOIlyG__active",button:"SanctuaryToggleRadix-module__vOIlyG__button",buttonText:"SanctuaryToggleRadix-module__vOIlyG__buttonText",container:"SanctuaryToggleRadix-module__vOIlyG__container",frictionBar:"SanctuaryToggleRadix-module__vOIlyG__frictionBar",frictionFill:"SanctuaryToggleRadix-module__vOIlyG__frictionFill",frictionIndicator:"SanctuaryToggleRadix-module__vOIlyG__frictionIndicator",frictionText:"SanctuaryToggleRadix-module__vOIlyG__frictionText",inactive:"SanctuaryToggleRadix-module__vOIlyG__inactive",mainText:"SanctuaryToggleRadix-module__vOIlyG__mainText",progressBase:"SanctuaryToggleRadix-module__vOIlyG__progressBase",progressFill:"SanctuaryToggleRadix-module__vOIlyG__progressFill",progressRing:"SanctuaryToggleRadix-module__vOIlyG__progressRing",slideIn:"SanctuaryToggleRadix-module__vOIlyG__slideIn",statusLabel:"SanctuaryToggleRadix-module__vOIlyG__statusLabel",subText:"SanctuaryToggleRadix-module__vOIlyG__subText",toggleContainer:"SanctuaryToggleRadix-module__vOIlyG__toggleContainer"})},90013,e=>{e.v({active:"Sidebar-module__5-k5AW__active",avatar:"Sidebar-module__5-k5AW__avatar",btnSubtitle:"Sidebar-module__5-k5AW__btnSubtitle",btnText:"Sidebar-module__5-k5AW__btnText",btnTitle:"Sidebar-module__5-k5AW__btnTitle",flareBtn:"Sidebar-module__5-k5AW__flareBtn",flareForm:"Sidebar-module__5-k5AW__flareForm",flareInput:"Sidebar-module__5-k5AW__flareInput",flareSection:"Sidebar-module__5-k5AW__flareSection",footer:"Sidebar-module__5-k5AW__footer",header:"Sidebar-module__5-k5AW__header",high:"Sidebar-module__5-k5AW__high",icon:"Sidebar-module__5-k5AW__icon",pulse:"Sidebar-module__5-k5AW__pulse",sanctuaryBtn:"Sidebar-module__5-k5AW__sanctuaryBtn",section:"Sidebar-module__5-k5AW__section",sectionTitle:"Sidebar-module__5-k5AW__sectionTitle",sidebar:"Sidebar-module__5-k5AW__sidebar",stat:"Sidebar-module__5-k5AW__stat",statBar:"Sidebar-module__5-k5AW__statBar",statBarFill:"Sidebar-module__5-k5AW__statBarFill",statLabel:"Sidebar-module__5-k5AW__statLabel",statValue:"Sidebar-module__5-k5AW__statValue",stats:"Sidebar-module__5-k5AW__stats",statusDot:"Sidebar-module__5-k5AW__statusDot",taskCard:"Sidebar-module__5-k5AW__taskCard",taskContext:"Sidebar-module__5-k5AW__taskContext",taskDescription:"Sidebar-module__5-k5AW__taskDescription",taskHeader:"Sidebar-module__5-k5AW__taskHeader",taskMeta:"Sidebar-module__5-k5AW__taskMeta",taskTitle:"Sidebar-module__5-k5AW__taskTitle",title:"Sidebar-module__5-k5AW__title",urgent:"Sidebar-module__5-k5AW__urgent",urgentBadge:"Sidebar-module__5-k5AW__urgentBadge",user:"Sidebar-module__5-k5AW__user",userInfo:"Sidebar-module__5-k5AW__userInfo",userName:"Sidebar-module__5-k5AW__userName",userRole:"Sidebar-module__5-k5AW__userRole",username:"Sidebar-module__5-k5AW__username"})},29777,e=>{e.v({author:"MiddlePanel-module__f0blva__author",content:"MiddlePanel-module__f0blva__content",empty:"MiddlePanel-module__f0blva__empty",error:"MiddlePanel-module__f0blva__error",focusLabel:"MiddlePanel-module__f0blva__focusLabel",focusOverlay:"MiddlePanel-module__f0blva__focusOverlay",header:"MiddlePanel-module__f0blva__header",loading:"MiddlePanel-module__f0blva__loading",message:"MiddlePanel-module__f0blva__message",messageAvatar:"MiddlePanel-module__f0blva__messageAvatar",messageBody:"MiddlePanel-module__f0blva__messageBody",messageHeader:"MiddlePanel-module__f0blva__messageHeader",messageSubtext:"MiddlePanel-module__f0blva__messageSubtext",messageText:"MiddlePanel-module__f0blva__messageText",panel:"MiddlePanel-module__f0blva__panel",time:"MiddlePanel-module__f0blva__time"})},53989,e=>{e.v({button:"ContextInspector-module__qmVW_q__button",checkmark:"ContextInspector-module__qmVW_q__checkmark",content:"ContextInspector-module__qmVW_q__content",dot:"ContextInspector-module__qmVW_q__dot",flareActive:"ContextInspector-module__qmVW_q__flareActive",flareContent:"ContextInspector-module__qmVW_q__flareContent",flareDropped:"ContextInspector-module__qmVW_q__flareDropped",flareEta:"ContextInspector-module__qmVW_q__flareEta",flareMessage:"ContextInspector-module__qmVW_q__flareMessage",flareText:"ContextInspector-module__qmVW_q__flareText",flareTime:"ContextInspector-module__qmVW_q__flareTime",focusIndicator:"ContextInspector-module__qmVW_q__focusIndicator",form:"ContextInspector-module__qmVW_q__form",header:"ContextInspector-module__qmVW_q__header",icon:"ContextInspector-module__qmVW_q__icon",input:"ContextInspector-module__qmVW_q__input",noFlare:"ContextInspector-module__qmVW_q__noFlare",panel:"ContextInspector-module__qmVW_q__panel",pop:"ContextInspector-module__qmVW_q__pop",pulse:"ContextInspector-module__qmVW_q__pulse",section:"ContextInspector-module__qmVW_q__section",sectionTitle:"ContextInspector-module__qmVW_q__sectionTitle",shieldIcon:"ContextInspector-module__qmVW_q__shieldIcon",shieldInfo:"ContextInspector-module__qmVW_q__shieldInfo",shieldText:"ContextInspector-module__qmVW_q__shieldText",slideIn:"ContextInspector-module__qmVW_q__slideIn",transmitting:"ContextInspector-module__qmVW_q__transmitting"})},36061,e=>{e.v({contentLayer:"Dashboard-module__0qHQXq__contentLayer",focused:"Dashboard-module__0qHQXq__focused",hudLayer:"Dashboard-module__0qHQXq__hudLayer",middlePanelContainer:"Dashboard-module__0qHQXq__middlePanelContainer",viewport:"Dashboard-module__0qHQXq__viewport"})},81694,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(55191);function l({sanctuary:e,onSanctuaryChange:l}){let[d,r]=(0,s.useState)(0),i=(0,s.useRef)(null),n=()=>{e?i.current=setInterval(()=>{r(e=>e>=100?(clearInterval(i.current),l(!1),0):e+2)},30):l(!0)},o=()=>{clearInterval(i.current),r(0)};(0,s.useEffect)(()=>()=>{i.current&&clearInterval(i.current)},[]);let _=2*Math.PI*30,c=_-_*d/100;return(0,a.jsxs)("div",{className:t.default.container,children:[(0,a.jsxs)("div",{className:t.default.toggleContainer,children:[(0,a.jsxs)("button",{onMouseDown:n,onMouseUp:o,onMouseLeave:o,onTouchStart:n,onTouchEnd:o,className:`${t.default.button} ${e?t.default.active:t.default.inactive}`,children:[e&&(0,a.jsxs)("svg",{className:t.default.progressRing,viewBox:"0 0 64 64",children:[(0,a.jsx)("circle",{cx:"32",cy:"32",r:"30",fill:"transparent",stroke:"currentColor",strokeWidth:"3",className:t.default.progressBase,strokeDasharray:_,strokeDashoffset:"0"}),(0,a.jsx)("circle",{cx:"32",cy:"32",r:"30",fill:"transparent",stroke:"currentColor",strokeWidth:"3",className:t.default.progressFill,strokeDasharray:_,strokeDashoffset:c,style:{transition:"stroke-dashoffset 0.03s linear"}})]}),(0,a.jsx)("span",{className:t.default.buttonText,children:e?"ðŸ›¡ï¸":"ðŸ”“"})]}),(0,a.jsxs)("div",{className:t.default.statusLabel,children:[(0,a.jsx)("p",{className:t.default.mainText,children:e?"SANCTUARY ACTIVE":"FOCUS MODE"}),(0,a.jsx)("p",{className:t.default.subText,children:e?`Hold to Exit (${d}%)`:"Click to Enter"})]})]}),e&&d>0&&(0,a.jsxs)("div",{className:t.default.frictionIndicator,children:[(0,a.jsx)("div",{className:t.default.frictionBar,children:(0,a.jsx)("div",{className:t.default.frictionFill,style:{width:`${d}%`}})}),(0,a.jsx)("span",{className:t.default.frictionText,children:d<50?"Keep holding...":"Almost there..."})]})]})}var d=e.i(90013);function r({tasks:e,sanctuary:s,onSanctuaryChange:t,onFlare:r,recentFlares:i}){let n=e.filter(e=>"URGENT"===e.priority),o=e.filter(e=>"HIGH"===e.priority);return(0,a.jsxs)("aside",{className:d.default.sidebar,children:[(0,a.jsxs)("div",{className:d.default.header,children:[(0,a.jsx)("h2",{className:d.default.title,children:"ðŸŽ¯ STITCH BLUEPRINT"}),(0,a.jsxs)("div",{className:d.default.user,children:[(0,a.jsx)("span",{className:d.default.statusDot}),(0,a.jsx)("span",{className:d.default.username,children:"Alex_Stitch"})]})]}),(0,a.jsx)(l,{sanctuary:s,onSanctuaryChange:t}),(0,a.jsxs)("div",{className:d.default.section,children:[(0,a.jsx)("h3",{className:d.default.sectionTitle,children:"Priority Funnel"}),n.map(e=>(0,a.jsxs)("div",{className:`${d.default.taskCard} ${d.default.urgent}`,children:[(0,a.jsxs)("div",{className:d.default.taskHeader,children:[(0,a.jsx)("span",{className:d.default.taskTitle,children:e.title}),(0,a.jsx)("span",{className:d.default.urgentBadge,children:"URGENT"})]}),(0,a.jsxs)("div",{className:d.default.taskMeta,children:[(0,a.jsx)("span",{className:d.default.pulse}),(0,a.jsx)("span",{className:d.default.taskContext,children:e.context})]})]},e.id)),o.map(e=>(0,a.jsxs)("div",{className:`${d.default.taskCard} ${d.default.high}`,children:[(0,a.jsx)("div",{className:d.default.taskHeader,children:(0,a.jsx)("span",{className:d.default.taskTitle,children:e.title})}),(0,a.jsx)("div",{className:d.default.taskDescription,children:e.description})]},e.id))]}),(0,a.jsxs)("div",{className:d.default.stats,children:[(0,a.jsxs)("div",{className:d.default.stat,children:[(0,a.jsx)("span",{className:d.default.statLabel,children:"Tokens"}),(0,a.jsx)("span",{className:d.default.statValue,children:"14.2k"})]}),(0,a.jsx)("div",{className:d.default.statBar,children:(0,a.jsx)("div",{className:d.default.statBarFill})}),(0,a.jsxs)("div",{className:d.default.stat,children:[(0,a.jsx)("span",{className:d.default.statLabel,children:"Latency"}),(0,a.jsx)("span",{className:d.default.statValue,children:"240ms"})]})]}),(0,a.jsxs)("div",{className:d.default.footer,children:[(0,a.jsx)("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuCOs9jHOdyREINpvYwMyc8BxrKMF8yC0Dih096pculaPxZuyggECE9A5Sqa-sniTy7c3YTZe2s92zzyhel_fH-3JDHKB4NfuK4GY4LH7YIQdDisC6yXkQSdGquDnodjwxUvYVTL2ZFDEnprroHUkJh-PxtnLOJmNQ_WSZq-DV-vorRkRsG7fcrkugSG5FBmA8jrahITvSReXeMHDxZ9JcjXGqSXYwqLa9dEvyfVYAyac9FydnINB8E4jxd-4_7X7ueUf-KRcgjktc9z",alt:"Alex_Stitch",className:d.default.avatar}),(0,a.jsxs)("div",{className:d.default.userInfo,children:[(0,a.jsx)("div",{className:d.default.userName,children:"Alex_Stitch"}),(0,a.jsx)("div",{className:d.default.userRole,children:"System Architect"})]})]})]})}var i=e.i(29777);function n({tasks:e,loading:s,error:t,isFocused:l}){let d=e.filter(e=>"URGENT"!==e.priority);return(0,a.jsxs)("div",{className:i.default.panel,children:[(0,a.jsxs)("header",{className:i.default.header,children:[(0,a.jsx)("h2",{children:"Flow Stage"}),(0,a.jsx)("p",{children:"Messages & Task Updates"})]}),(0,a.jsxs)("div",{className:i.default.content,children:[t&&(0,a.jsxs)("div",{className:i.default.error,children:["âš ï¸ Error: ",t]}),s?(0,a.jsx)("div",{className:i.default.loading,children:"Loading flow..."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:i.default.message,children:[(0,a.jsx)("div",{className:i.default.messageAvatar,children:"ðŸ¤–"}),(0,a.jsxs)("div",{className:i.default.messageBody,children:[(0,a.jsxs)("div",{className:i.default.messageHeader,children:[(0,a.jsx)("span",{className:i.default.author,children:"System"}),(0,a.jsx)("span",{className:i.default.time,children:"just now"})]}),(0,a.jsx)("p",{className:i.default.messageText,children:"Connected to Sanctuary Mode. All priority alerts will bypass the flow."})]})]}),d.length>0?d.map((e,s)=>(0,a.jsxs)("div",{className:i.default.message,children:[(0,a.jsx)("div",{className:i.default.messageAvatar,children:0===s?"ðŸ‘¤":"ðŸ’¬"}),(0,a.jsxs)("div",{className:i.default.messageBody,children:[(0,a.jsxs)("div",{className:i.default.messageHeader,children:[(0,a.jsx)("span",{className:i.default.author,children:e.source}),(0,a.jsx)("span",{className:i.default.time,children:e.priority})]}),(0,a.jsx)("p",{className:i.default.messageText,children:e.title}),(0,a.jsx)("small",{className:i.default.messageSubtext,children:e.description})]})]},e.id)):(0,a.jsx)("div",{className:i.default.empty,children:(0,a.jsx)("p",{children:"No flow messages. All clear! âœ¨"})})]})]}),l&&(0,a.jsx)("div",{className:i.default.focusOverlay,children:(0,a.jsx)("div",{className:i.default.focusLabel,children:"ðŸ›¡ï¸ FOCUSED MODE"})})]})}var o=e.i(53989);function _({flares:e,onFlare:t,isFocused:l}){let[d,r]=(0,s.useState)(""),[i,n]=(0,s.useState)(null),_=async e=>{e.preventDefault(),d.trim()&&(await t({userId:"user-"+Date.now(),message:d,targetAudience:"mentors"}),n({message:d,timestamp:new Date}),r(""),setTimeout(()=>n(null),5e3))},c=e[0];return(0,a.jsxs)("aside",{className:o.default.panel,children:[(0,a.jsxs)("header",{className:o.default.header,children:[(0,a.jsx)("h2",{children:"Context Inspector"}),(0,a.jsx)("p",{children:"Flare Status & Help"})]}),(0,a.jsxs)("div",{className:o.default.content,children:[(0,a.jsxs)("div",{className:o.default.section,children:[(0,a.jsx)("h3",{className:o.default.sectionTitle,children:"ðŸš¨ Flare Status"}),i?(0,a.jsxs)("div",{className:o.default.flareDropped,children:[(0,a.jsx)("div",{className:o.default.checkmark,children:"âœ“"}),(0,a.jsx)("div",{className:o.default.flareMessage,children:"Flare Dropped!"}),(0,a.jsxs)("div",{className:o.default.flareEta,children:[(0,a.jsx)("span",{className:o.default.icon,children:"â±ï¸"}),(0,a.jsx)("span",{children:"~5m response"})]})]}):c?(0,a.jsxs)("div",{className:o.default.flareActive,children:[(0,a.jsxs)("div",{className:o.default.transmitting,children:[(0,a.jsx)("div",{className:o.default.dot}),(0,a.jsx)("span",{children:"Transmitting..."})]}),(0,a.jsxs)("div",{className:o.default.flareContent,children:[(0,a.jsx)("p",{className:o.default.flareText,children:c.message}),(0,a.jsx)("span",{className:o.default.flareTime,children:new Date(c.timestamp).toLocaleTimeString()})]})]}):(0,a.jsx)("div",{className:o.default.noFlare,children:(0,a.jsx)("p",{children:"No active flares"})})]}),(0,a.jsxs)("div",{className:o.default.section,children:[(0,a.jsx)("h3",{className:o.default.sectionTitle,children:"ðŸ“¡ Send Flare"}),(0,a.jsxs)("form",{onSubmit:_,className:o.default.form,children:[(0,a.jsx)("textarea",{value:d,onChange:e=>r(e.target.value),placeholder:"What blocker do you need help with?",className:o.default.input,rows:"4"}),(0,a.jsx)("button",{type:"submit",className:o.default.button,disabled:!d.trim(),children:"Drop Flare ðŸ“¡"})]})]}),(0,a.jsx)("div",{className:o.default.section,children:(0,a.jsxs)("div",{className:o.default.shieldInfo,children:[(0,a.jsx)("div",{className:o.default.shieldIcon,children:"ðŸ›¡ï¸"}),(0,a.jsxs)("div",{className:o.default.shieldText,children:[(0,a.jsx)("strong",{children:"Safety Net Active"}),(0,a.jsx)("p",{children:"Your distress signal is pinned here. Stay focused while help is on the way."})]})]})})]}),l&&(0,a.jsxs)("div",{className:o.default.focusIndicator,children:[(0,a.jsx)("span",{className:o.default.pulse}),"FOCUSED"]})]})}var c=e.i(36061);let u=[{id:"safe-1",title:"Code Constraints",priority:"URGENT",source:"System",dueDate:"2026-02-15",description:"Review current sprint constraints",context:"Use Flare system for help",status:"in-progress",assignee:"system"}];function m(){let[e,t]=(0,s.useState)([]),[l,d]=(0,s.useState)([]),[i,o]=(0,s.useState)(!1),[m,f]=(0,s.useState)(!0),[x,h]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{f(!0);let e=await fetch("/api/tasks");if(!e.ok)throw Error("Failed to fetch tasks");let a=await e.json();t(Array.isArray(a.tasks)&&a.tasks.length>0?a.tasks:u)}catch(e){h(e.message),t(u)}finally{f(!1)}})()},[]),(0,s.useEffect)(()=>{let e=e=>{i&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),console.log("ðŸ›¡ï¸ Sanctuary Mode active - Escape key disabled. Use long-press to exit."))};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[i]);let p=async e=>{try{let a=await fetch("/api/flare",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error("Failed to send flare");let s=await a.json();d([s,...l])}catch(e){console.error(e)}};return(0,a.jsxs)("div",{className:`${c.default.viewport} ${i?c.default.focused:""}`,children:[(0,a.jsx)(r,{tasks:e,sanctuary:i,onSanctuaryChange:o,onFlare:p}),(0,a.jsx)("div",{className:c.default.middlePanelContainer,style:i?{filter:"blur(12px) grayscale(100%) brightness(0.4)",pointerEvents:"none",opacity:.4,transition:"all 1000ms cubic-bezier(0.16, 1, 0.3, 1)"}:{filter:"blur(0px) grayscale(0%) brightness(1)",pointerEvents:"auto",opacity:1,transition:"all 1000ms cubic-bezier(0.16, 1, 0.3, 1)"},children:(0,a.jsx)(n,{tasks:e,loading:m,error:x,isFocused:i})}),(0,a.jsx)(_,{flares:l,onFlare:p,isFocused:i})]})}function f(){let[e,t]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{fetch("/api/health").then(()=>t(!1)).catch(()=>t(!1))},[]),e)?(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:(0,a.jsx)("p",{children:"Loading Sanctuary..."})}):(0,a.jsx)(m,{})}e.s(["default",()=>f],81694)}]);